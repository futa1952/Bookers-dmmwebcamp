<% if flash[:notice] %>
<p class="success"><%= flash[:notice] %></p>
<% end %>

<h2>Editing Book</h2>

<%= form_with model: @book, local: true do |f| %>

<!-- createに失敗するとエラー表示 -->
<% if @book.errors.any? %>
<div class="alert alert-danger">
  <ul>
    <p class="error"><%= @book.errors.count %>errors prohibited this book from being saved:</p>
    <% @book.errors.full_messages.each do |msg| %>
    <p class="error"><%= msg %></p>
    <% end %>
  </ul>
</div>
<% end %>


<h5>Title</h5>
<%= f.text_field :title %>

<h5>Body</h5>
<%= f.text_area :body %>


<div class="btn"><%= f.submit 'Update Book' %></div>
<% end %>
<%= link_to "Show", book_path(@book.id) %>
|
<%= link_to 'Back', books_path  %>